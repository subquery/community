# SubQuery Network - สรุป

**SubQuery Network ทำงานอย่างไร? [อธิบายให้เข้าใจง่ายๆ](https://www.dictionary.com/e/slang/eli5/#:~:text=ELI5%20stands%20for%20the%20phrase,naive%20understanding%20of%20the%20issue.)**

วันนี้เราจะมาพูดถึงว่า SubQuery Network ทำงานอย่างไรในระดับสูง

## ผู้มีส่วนร่วม

![](https://miro.medium.com/max/1400/1*9993cakplwupZC5tbUv3vA.png)

ผู้มีส่วนร่วมใน SubQuery Network

ผู้มีส่วนร่วมในเครือข่าย SubQuery Network มี 3 ส่วนคือ:

- **Consumer(ผู้ใช้ข้อมูล)**: Consumer จะสร้างคำขอสำหรับข้อมูลที่เฉพาะเจาะจงไปยัง SubQuery Network และจะจ่ายค่าข้อมูลนั้นๆด้วย SQT
- **Indexer(ผู้สร้างดัชนี)**: Indexer จะโฮสต์ SubQuery บนโครงสร้างพื้นฐานของตนเอง, ดำเนินการทั้งโหนดและบริการ query เพื่อสร้างดัชนีข้อมูลและตอบคำขอของ GraphQL
- **Delegator(ตัวแทน)**: Delegator จะมีส่วนร่วมในเครือข่ายด้วยการสนับสนุน indexer ที่ตัวเองชื่นชอบ เพื่อรับรางวัลส่วนแบ่งจาก Indexer

## Indexers, Consumers, และ Queries

เริ่มด้วย Indexer โดย Indexer เป็นผู้ที่ทำงานอย่างหนักอยู่ในเบื้องหลัง โดยต้องจัดการฮาร์ดแวร์, ดำเนินการโครงสร้างพื้นฐาน, คอยตรวจสอบแหล่งข้อมูล และเลือกโปรเจ็ค SubQuery ที่เหมาะสมเพื่อสร้าง index

สิ่งนี้ต้องใช้เวลาและเงิน แต่เมื่อมีสิ่งนี้แล้ว Consumer ก็จะเข้ามาและสร้างคำขอ Consumer จะสร้างคำขอสำหรับข้อมูลที่มีความเจาะจงไปยัง SubQuery Network และจะจ่ายค่าข้อมูลตามจำนวนเงินที่ประกาศไว้ด้วยโทเค็น SQT

![](https://miro.medium.com/max/1400/1*dKLkzSc2uXYaPW_IXUxstQ.png)

Consumer จะสร้างคำขอสำหรับข้อมูลที่มีความเจาะจงไปยัง SubQuery Network และจะจ่ายค่าข้อมูลตามจำนวนเงินที่ประกาศไว้ด้วยโทเค็น SQT

## ฟังก์ชั่นการผลิตแบบ Cobb-Douglas

การจ่ายเงินนี้จะเข้าไปที่ project revenue pool และเมื่อจบช่วงการ stake (28 วัน) เงินใน project revenue pool จะถูกแบ่ง โดยจะถูกแบ่งผ่านไปยัง Indexer ด้วยสิ่งที่เรียกว่า ฟังก์ชั่นการผลิตแบบ Cobb-Douglas

![](https://miro.medium.com/max/1400/1*E-W7o7cWoclxHb8rXAMdpA.png)

โดยจะถูกแบ่งผ่านไปยัง Indexer ด้วยสิ่งที่เรียกว่า ฟังก์ชั่นการผลิตแบบ Cobb-Douglas

อธิบายง่ายๆคือ รายได้จะถูกจัดสรรตามความสามารถในการแข่งขันของ Indexer ตามสัดส่วนคำขอที่เข้ามาและจำนวนโทเค็นที่ stake

![](https://miro.medium.com/max/1400/1*VhDu2BGDxd3ob7z9XkoOXA.png)

รายได้ถูกจัดสรรตามความสามารถในการแข่งขันของ Indexer ตามสัดส่วนคำขอที่เข้ามาและจำนวนโทเค็นที่ stake

ในมุมมองของเรา ความสวยงามของสมการนี้คือ Indexter มีเหตุผลจะต้องประคองระดับการ stake โทเค็น SQT เมื่อเทียบกับงานที่พวกเขาทำ เพื่อการรับรายได้ที่เหมาะสมที่สุด ด้วยเหตุนี้ เราจึงไม่จำเป็นต้องมีการบังคับใช้ข้อกำหนดในการ stake เพราะว่า Indexer มีแรงจูงใจในการจัดการตัวเองและรักษาระดับการ stake หรือการมีส่วนร่วมในระบบ

## Delegator(ตัวแทน)

เนื่องจาก Indexer มีแรงจูงใจทั้งในการทำงานให้ได้มากที่สุดและ stake ให้ได้เยอะที่สุด เพื่อเพิ่มผลตอบแทนสูงสุด นี่คือที่ๆ Delegator เข้ามามีส่วนร่วม

Delegator สามารถมอบสิทธิ์ SQT ให้กับ Indexer ซึ่ง Indexer แต่ละคนจะสามารถเผยแพร่ _อัตราส่วนแบ่งจากรายได้จากค่าธรรมเนียมการ query_ และตัวแทนเหล่านี้จะได้รางวัลที่เป็นส่วนหนึ่งของรายได้จากค่าธรรมเนียมการ query ที่ Indexer ได้รับ

![](https://miro.medium.com/max/1400/1*YoN7PV7h3a2nAFN-ODqILg.png)

Delegator สามารถมอบสิทธิ์ SQT ของพวกเขาที่เก็บไว้ ให้กับ Indexer และ Delegator เหล่านั้นจะได้รับรางวัลที่เป็นส่วนหนึ่งของรายได้จากค่าธรรมเนียมการ query ที่ Indexer ได้รับเข้ามา

_อัตราส่วนแบ่งรายได้จากค่าธรรมเนียมการ query_ ที่ Indexer ประกาศจะถูกล็อคไว้ในแต่ละรอบเป็นเวลา 28 วัน และการลดลงต้องมีการประกาศตลอดช่วงการ stake 28 วัน ก่อนจะมีผลบังคับใช้

ในทำนองเดียวกัน Delegator สามารถนำจำนวนสิทธิ์ที่พวกเขามอบให้ ออกมาเมื่อใดก็ได้ แต่พวกเขาจะได้รับรางวัลเมื่ออยู่จนจบช่วง stake เท่านั้น

![](https://miro.medium.com/max/1400/0*we0k4A07pbj86COZ)

Delegator จะได้รับรางวัลเมื่ออยู่จนจบช่วง stake เท่านั้น

## Purchase Orders(คำสั่งซื้อ)

ในการทำโครงการ Index โครงการหนึ่ง ต้องใช้เวลาและเงิน และมันก็มีจำนวนข้อมูลมากมายบนเชน เพื่อเป็นการสนับสนุน Indexer ในการ index และสนับสนุนโครงการใหม่ๆของ SubQuery ทั้งหมด เราวางแผนที่จะใช้กลไกตลาดสำหรับ Consumer ในการส่งสัญญาณการการันตีรายได้ให้กับ Indexer สำหรับโครงการใหม่ของ SubQuery

เรากำลังเรียกพวกเขาว่า purchase order และ Consumer สามารถประกาศสัญญาบนเชน เพื่อตั้งราคาและจำนวนของคำร้องขอ Indexer สามารถดูสิ่งนี้และเลือกทำสัญญาได้

![](https://miro.medium.com/max/1400/1*IPtaZlt24E7h9bKNZWdSCw.png)

Consumer สามารถประกาศ purchase order บนเชน เพื่อตั้งราคาและจำนวนของคำร้องขอ

Purchase order ยังสามารถไปวางบนโครงการ Subquery ทีมีอยู่ เพื่อดึงดูด Indexer เพิ่มเติมเข้าไปแข่งขันเพื่อปรับปรุงการแข่งขึ้นและลดราคาลง
